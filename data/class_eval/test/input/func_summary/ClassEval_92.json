{"qid": "ClassEval_92", "orig_input": "class UserLoginDB:\n    \"\"\"\n    This is a database management class for user login verification, providing functions for inserting user information, searching user information, deleting user information, and validating user login.\n    \"\"\"\n\n    def __init__(self, db_name):\n        \"\"\"\n        Initializes the UserLoginDB object with the specified database name.\n        :param db_name: str, the name of the SQLite database.\n        \"\"\"\n        self.connection = sqlite3.connect(db_name)\n        self.cursor = self.connection.cursor()\n\n    def insert_user(self, username, password):\n        \"\"\"\n        Inserts a new user into the \"users\" table.\n        :param username: str, the username of the user.\n        :param password: str, the password of the user.\n        :return: None\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        \"\"\"\n\n\n    def search_user_by_username(self, username):\n        \"\"\"\n        Searches for users in the \"users\" table by username.\n        :param username: str, the username of the user to search for.\n        :return:list of tuples, the rows from the \"users\" table that match the search criteria.\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> result = user_db.search_user_by_username('user1')\n        len(result) = 1\n        \"\"\"\n\n\n    def delete_user_by_username(self, username):\n        \"\"\"\n        Deletes a user from the \"users\" table by username.\n        :param username: str, the username of the user to delete.\n        :return: None\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> user_db.delete_user_by_username('user1')\n        \"\"\"\n\n\n    def validate_user_login(self, username, password):\n        \"\"\"\n        Determine whether the user can log in, that is, the user is in the database and the password is correct\n        :param username:str, the username of the user to validate.\n        :param password:str, the password of the user to validate.\n        :return:bool, representing whether the user can log in correctly\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> user_db.validate_user_login('user1', 'pass1')\n        True\n        \"\"\"", "input": "class UserLoginDB:\n    \"\"\"\n    This is a database management class for user login verification, providing functions for inserting user information, searching user information, deleting user information, and validating user login.\n    \"\"\"\n\n    def __init__(self, db_name):\n        \"\"\"\n        Initializes the UserLoginDB object with the specified database name.\n        :param db_name: str, the name of the SQLite database.\n        \"\"\"\n        self.connection = sqlite3.connect(db_name)\n        self.cursor = self.connection.cursor()\n\n    def insert_user(self, username, password):\n        \"\"\"Inserts a new user with provided username and password into the \"users\" table.\"\"\"\n\n\n    def search_user_by_username(self, username):\n        \"\"\"Searches for users in the database by username and returns matching rows as tuples.\"\"\"\n\n\n    def delete_user_by_username(self, username):\n        \"\"\"Deletes a user from the database using their username as the identifier.\"\"\"\n\n\n    def validate_user_login(self, username, password):\n        \"\"\"Validates user login by checking if the provided username and password match the database records.\"\"\"", "method_info": [{"method_name": "insert_user", "method_description": "def insert_user(self, username, password):\n        \"\"\"\n        Inserts a new user into the \"users\" table.\n        :param username: str, the username of the user.\n        :param password: str, the password of the user.\n        :return: None\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        \"\"\"", "test_class": "UserLoginDBTestInsertUser", "test_code": "class UserLoginDBTestInsertUser(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_insert_user_1(self):\n        self.db.insert_user('user1', 'pass1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user1')\n        self.assertEqual(user[1], 'pass1')\n\n    def test_insert_user_2(self):\n        self.db.insert_user('user2', 'pass2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user2')\n        self.assertEqual(user[1], 'pass2')\n\n    def test_insert_user_3(self):\n        self.db.insert_user('user3', 'pass3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user3')\n        self.assertEqual(user[1], 'pass3')\n\n    def test_insert_user_4(self):\n        self.db.insert_user('user4', 'pass4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user4')\n        self.assertEqual(user[1], 'pass4')\n\n    def test_insert_user_5(self):\n        self.db.insert_user('user5', 'pass5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user5')\n        self.assertEqual(user[1], 'pass5')", "solution_code": "def insert_user(self, username, password):\n        self.cursor.execute('''\n            INSERT INTO users (username, password)\n            VALUES (?, ?)\n        ''', (username, password))\n        self.connection.commit()", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": ["self.connection", "self.cursor"], "method_dependencies": []}}, {"method_name": "search_user_by_username", "method_description": "def search_user_by_username(self, username):\n        \"\"\"\n        Searches for users in the \"users\" table by username.\n        :param username: str, the username of the user to search for.\n        :return:list of tuples, the rows from the \"users\" table that match the search criteria.\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> result = user_db.search_user_by_username('user1')\n        len(result) = 1\n        \"\"\"", "test_class": "UserLoginDBTestSearchUserByUsername", "test_code": "class UserLoginDBTestSearchUserByUsername(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_search_user_by_username_1(self):\n        self.db.insert_user('user1', 'pass1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user1')\n        self.assertEqual(user[1], 'pass1')\n\n    def test_search_user_by_username_2(self):\n        self.db.insert_user('user2', 'pass2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user2')\n        self.assertEqual(user[1], 'pass2')\n\n    def test_search_user_by_username_3(self):\n        self.db.insert_user('user3', 'pass3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user3')\n        self.assertEqual(user[1], 'pass3')\n\n    def test_search_user_by_username_4(self):\n        self.db.insert_user('user4', 'pass4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user4')\n        self.assertEqual(user[1], 'pass4')\n\n    def test_search_user_by_username_5(self):\n        self.db.insert_user('user5', 'pass5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user5')\n        self.assertEqual(user[1], 'pass5')", "solution_code": "def search_user_by_username(self, username):\n        self.cursor.execute('''\n            SELECT * FROM users WHERE username = ?\n        ''', (username,))\n        user = self.cursor.fetchone()\n        return user", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": ["self.cursor"], "method_dependencies": []}}, {"method_name": "delete_user_by_username", "method_description": "def delete_user_by_username(self, username):\n        \"\"\"\n        Deletes a user from the \"users\" table by username.\n        :param username: str, the username of the user to delete.\n        :return: None\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> user_db.delete_user_by_username('user1')\n        \"\"\"", "test_class": "UserLoginDBTestDeleteUserByUsername", "test_code": "class UserLoginDBTestDeleteUserByUsername(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_delete_user_by_username_1(self):\n        self.db.insert_user('user1', 'pass1')\n        self.db.delete_user_by_username('user1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_2(self):\n        self.db.insert_user('user2', 'pass2')\n        self.db.delete_user_by_username('user2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_3(self):\n        self.db.insert_user('user3', 'pass3')\n        self.db.delete_user_by_username('user3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_4(self):\n        self.db.insert_user('user4', 'pass4')\n        self.db.delete_user_by_username('user4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_5(self):\n        self.db.insert_user('user5', 'pass5')\n        self.db.delete_user_by_username('user5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNone(user)", "solution_code": "def delete_user_by_username(self, username):\n        self.cursor.execute('''\n            DELETE FROM users WHERE username = ?\n        ''', (username,))\n        self.connection.commit()", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": ["self.connection", "self.cursor"], "method_dependencies": []}}, {"method_name": "validate_user_login", "method_description": "def validate_user_login(self, username, password):\n        \"\"\"\n        Determine whether the user can log in, that is, the user is in the database and the password is correct\n        :param username:str, the username of the user to validate.\n        :param password:str, the password of the user to validate.\n        :return:bool, representing whether the user can log in correctly\n        >>> user_db = UserLoginDB(\"user_database.db\")\n        >>> user_db.create_table()\n        >>> user_db.insert_user('user1', 'pass1')\n        >>> user_db.validate_user_login('user1', 'pass1')\n        True\n        \"\"\"", "test_class": "UserLoginDBTestValidateUserLogin", "test_code": "class UserLoginDBTestValidateUserLogin(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_validate_user_login_1(self):\n        self.db.insert_user('user1', 'pass1')\n        valid = self.db.validate_user_login('user1', 'pass1')\n        self.assertTrue(valid)\n\n    def test_validate_user_login_2(self):\n        self.db.insert_user('user1', 'pass1')\n        invalid = self.db.validate_user_login('user1', 'wrongpass')\n        self.assertFalse(invalid)\n\n    def test_validate_user_login_3(self):\n        valid = self.db.validate_user_login('nonexistentuser', 'somepass')\n        self.assertFalse(valid)\n\n    def test_validate_user_login_4(self):\n        self.db.insert_user('user2', 'pass2')\n        valid = self.db.validate_user_login('user2', 'pass2')\n        self.assertTrue(valid)\n\n    def test_validate_user_login_5(self):\n        self.db.insert_user('user3', 'pass3')\n        valid = self.db.validate_user_login('user3', 'pass3')\n        self.assertTrue(valid)", "solution_code": "def validate_user_login(self, username, password):\n        user = self.search_user_by_username(username)\n        if user is not None and user[1] == password:\n            return True\n        return False", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": [], "method_dependencies": ["search_user_by_username"]}}], "test_cases": "import unittest\nimport os\nfrom tempfile import gettempdir\n\n\nclass UserLoginDBTestInsertUser(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_insert_user_1(self):\n        self.db.insert_user('user1', 'pass1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user1')\n        self.assertEqual(user[1], 'pass1')\n\n    def test_insert_user_2(self):\n        self.db.insert_user('user2', 'pass2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user2')\n        self.assertEqual(user[1], 'pass2')\n\n    def test_insert_user_3(self):\n        self.db.insert_user('user3', 'pass3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user3')\n        self.assertEqual(user[1], 'pass3')\n\n    def test_insert_user_4(self):\n        self.db.insert_user('user4', 'pass4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user4')\n        self.assertEqual(user[1], 'pass4')\n\n    def test_insert_user_5(self):\n        self.db.insert_user('user5', 'pass5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user5')\n        self.assertEqual(user[1], 'pass5')\n\n\nclass UserLoginDBTestSearchUserByUsername(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_search_user_by_username_1(self):\n        self.db.insert_user('user1', 'pass1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user1')\n        self.assertEqual(user[1], 'pass1')\n\n    def test_search_user_by_username_2(self):\n        self.db.insert_user('user2', 'pass2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user2')\n        self.assertEqual(user[1], 'pass2')\n\n    def test_search_user_by_username_3(self):\n        self.db.insert_user('user3', 'pass3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user3')\n        self.assertEqual(user[1], 'pass3')\n\n    def test_search_user_by_username_4(self):\n        self.db.insert_user('user4', 'pass4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user4')\n        self.assertEqual(user[1], 'pass4')\n\n    def test_search_user_by_username_5(self):\n        self.db.insert_user('user5', 'pass5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user5')\n        self.assertEqual(user[1], 'pass5')\n\n\nclass UserLoginDBTestDeleteUserByUsername(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_delete_user_by_username_1(self):\n        self.db.insert_user('user1', 'pass1')\n        self.db.delete_user_by_username('user1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_2(self):\n        self.db.insert_user('user2', 'pass2')\n        self.db.delete_user_by_username('user2')\n        user = self.db.search_user_by_username('user2')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_3(self):\n        self.db.insert_user('user3', 'pass3')\n        self.db.delete_user_by_username('user3')\n        user = self.db.search_user_by_username('user3')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_4(self):\n        self.db.insert_user('user4', 'pass4')\n        self.db.delete_user_by_username('user4')\n        user = self.db.search_user_by_username('user4')\n        self.assertIsNone(user)\n\n    def test_delete_user_by_username_5(self):\n        self.db.insert_user('user5', 'pass5')\n        self.db.delete_user_by_username('user5')\n        user = self.db.search_user_by_username('user5')\n        self.assertIsNone(user)\n\n\nclass UserLoginDBTestValidateUserLogin(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_validate_user_login_1(self):\n        self.db.insert_user('user1', 'pass1')\n        valid = self.db.validate_user_login('user1', 'pass1')\n        self.assertTrue(valid)\n\n    def test_validate_user_login_2(self):\n        self.db.insert_user('user1', 'pass1')\n        invalid = self.db.validate_user_login('user1', 'wrongpass')\n        self.assertFalse(invalid)\n\n    def test_validate_user_login_3(self):\n        valid = self.db.validate_user_login('nonexistentuser', 'somepass')\n        self.assertFalse(valid)\n\n    def test_validate_user_login_4(self):\n        self.db.insert_user('user2', 'pass2')\n        valid = self.db.validate_user_login('user2', 'pass2')\n        self.assertTrue(valid)\n\n    def test_validate_user_login_5(self):\n        self.db.insert_user('user3', 'pass3')\n        valid = self.db.validate_user_login('user3', 'pass3')\n        self.assertTrue(valid)\n\n\nclass UserLoginDBTest(unittest.TestCase):\n    def setUp(self):\n        self.db_path = os.path.join(gettempdir(), 'test_db.db')\n        conn = sqlite3.connect(self.db_path)\n        cursor = conn.cursor()\n        create_table_query = \"\"\"\n                CREATE TABLE IF NOT EXISTS users (\n                    username TEXT,\n                    password TEXT\n                )\n                \"\"\"\n        cursor.execute(create_table_query)\n\n        conn.commit()\n        conn.close()\n        self.db = UserLoginDB(self.db_path)\n\n    def tearDown(self):\n        self.db.connection.close()\n        os.unlink(self.db_path)\n\n    def test_UserLoginDB(self):\n        self.db.insert_user('user1', 'pass1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNotNone(user)\n        self.assertEqual(user[0], 'user1')\n        self.assertEqual(user[1], 'pass1')\n        self.db.delete_user_by_username('user1')\n        user = self.db.search_user_by_username('user1')\n        self.assertIsNone(user)\n        self.db.insert_user('user1', 'pass1')\n        valid = self.db.validate_user_login('user1', 'pass1')\n        self.assertTrue(valid)", "solutions": ["import sqlite3\n\n\nclass UserLoginDB:\n    def __init__(self, db_name):\n        self.connection = sqlite3.connect(db_name)\n        self.cursor = self.connection.cursor()\n\n    def insert_user(self, username, password):\n        self.cursor.execute('''\n            INSERT INTO users (username, password)\n            VALUES (?, ?)\n        ''', (username, password))\n        self.connection.commit()\n\n    def search_user_by_username(self, username):\n        self.cursor.execute('''\n            SELECT * FROM users WHERE username = ?\n        ''', (username,))\n        user = self.cursor.fetchone()\n        return user\n\n    def delete_user_by_username(self, username):\n        self.cursor.execute('''\n            DELETE FROM users WHERE username = ?\n        ''', (username,))\n        self.connection.commit()\n\n    def validate_user_login(self, username, password):\n        user = self.search_user_by_username(username)\n        if user is not None and user[1] == password:\n            return True\n        return False"], "task": "class_eval", "split": "test", "transformation_type": "func_summary", "import_statement": ["import sqlite3"], "test_classes": ["UserLoginDBTestInsertUser", "UserLoginDBTestSearchUserByUsername", "UserLoginDBTestDeleteUserByUsername", "UserLoginDBTestValidateUserLogin", "UserLoginDBTest"]}
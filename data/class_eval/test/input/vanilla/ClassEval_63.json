{"qid": "ClassEval_63", "orig_input": "import re\nfrom collections import Counter\n\nclass NLPDataProcessor2:\n    \"\"\"\n    The class processes NLP data by extracting words from a list of strings, calculating the frequency of each word, and returning the top 5 most frequent words.\n    \"\"\"\n\n\n    def process_data(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words.\n        :param string_list: a list of strings\n        :return: words_list: a list of words lists\n        >>> NLPDataProcessor.process_data(['This is a test.'])\n        [['this', 'is', 'a', 'test']]\n        \"\"\"\n\n    def calculate_word_frequency(self, words_list):\n        \"\"\"\n        Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param words_list: a list of words lists\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.calculate_word_frequency([['this', 'is', 'a', 'test'], ['this', 'is', 'another', 'test']])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"\n\n    def process(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words. Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param string_list: a list of strings\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.process(['This is a test.', 'This is another test.'])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"", "input": "import re\nfrom collections import Counter\n\nclass NLPDataProcessor2:\n    \"\"\"\n    The class processes NLP data by extracting words from a list of strings, calculating the frequency of each word, and returning the top 5 most frequent words.\n    \"\"\"\n\n\n    def process_data(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words.\n        :param string_list: a list of strings\n        :return: words_list: a list of words lists\n        >>> NLPDataProcessor.process_data(['This is a test.'])\n        [['this', 'is', 'a', 'test']]\n        \"\"\"\n\n    def calculate_word_frequency(self, words_list):\n        \"\"\"\n        Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param words_list: a list of words lists\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.calculate_word_frequency([['this', 'is', 'a', 'test'], ['this', 'is', 'another', 'test']])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"\n\n    def process(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words. Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param string_list: a list of strings\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.process(['This is a test.', 'This is another test.'])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"", "method_info": [{"method_name": "process_data", "method_description": "def process_data(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words.\n        :param string_list: a list of strings\n        :return: words_list: a list of words lists\n        >>> NLPDataProcessor.process_data(['This is a test.'])\n        [['this', 'is', 'a', 'test']]\n        \"\"\"", "test_class": "NLPDataProcessorTestProcessData", "test_code": "class NLPDataProcessorTestProcessData(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_process_data(self):\n        string_list = [\"Hello World!\", \"This is a test.\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data2(self):\n        string_list = [\"12345\", \"Special@Characters\"]\n        expected_output = [[], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data3(self):\n        string_list = []\n        expected_output = []\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data4(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data5(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\", \"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters'], ['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)", "solution_code": "def process_data(self, string_list):\n        words_list = []\n        for string in string_list:\n            # Remove non-English letters and convert to lowercase\n            processed_string = re.sub(r'[^a-zA-Z\\s]', '', string.lower())\n            # Split the string into words\n            words = processed_string.split()\n            words_list.append(words)\n        return words_list", "dependencies": {"Standalone": false, "lib_dependencies": ["re"], "field_dependencies": [], "method_dependencies": ["process"]}}, {"method_name": "calculate_word_frequency", "method_description": "def calculate_word_frequency(self, words_list):\n        \"\"\"\n        Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param words_list: a list of words lists\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.calculate_word_frequency([['this', 'is', 'a', 'test'], ['this', 'is', 'another', 'test']])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"", "test_class": "NLPDataProcessorTestCalculate", "test_code": "class NLPDataProcessorTestCalculate(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_calculate_word_frequency(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', 'test'], ['hello', 'world', 'this', 'is', 'another', 'test'],\n                      ['hello', 'hello', 'world']]\n        expected_output = {'hello': 4, 'world': 3, 'this': 2, 'is': 2, 'test': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency2(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', 'test'], ['hello', 'world', 'this', 'is', 'another', 'test'],\n                      ['hello', 'hello', 'world'], ['world', 'world', 'world']]\n        expected_output = {'world': 6, 'hello': 4, 'this': 2, 'is': 2, 'test': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency3(self):\n        words_list = [['hello', 'world'], ['hello', 'hello', 'world'], ['world', 'world']]\n        expected_output = {'world': 4, 'hello': 3}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency4(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%']]\n        expected_output = {'%%%': 6, 'hello': 5, 'world': 4, 'is': 2, 'this': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency5(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%'], ['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%']]\n        expected_output = {'%%%': 12, 'hello': 10, 'world': 8, 'is': 4, 'this': 4}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)", "solution_code": "def calculate_word_frequency(self, words_list):\n        word_frequency = Counter()\n        for words in words_list:\n            word_frequency.update(words)\n        sorted_word_frequency = dict(sorted(word_frequency.items(), key=lambda x: x[1], reverse=True))\n        top_5_word_frequency = dict(list(sorted_word_frequency.items())[:5])\n        return top_5_word_frequency", "dependencies": {"Standalone": false, "lib_dependencies": ["Counter"], "field_dependencies": [], "method_dependencies": []}}, {"method_name": "process", "method_description": "def process(self, string_list):\n        \"\"\"\n        keep only English letters and spaces in the string, then convert the string to lower case, and then split the string into a list of words. Calculate the word frequency of each word in the list of words list, and sort the word frequency dictionary by value in descending order.\n        :param string_list: a list of strings\n        :return: top 5 word frequency dictionary, a dictionary of word frequency, key is word, value is frequency\n        >>> NLPDataProcessor.process(['This is a test.', 'This is another test.'])\n        {'this': 2, 'is': 2, 'test': 2, 'a': 1, 'another': 1}\n        \"\"\"", "test_class": "NLPDataProcessorTestProcess", "test_code": "class NLPDataProcessorTestProcess(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_process(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"Hello World, this is a test.\"]\n        expected_output = {'hello': 2, 'world': 2, 'this': 2, 'is': 2, 'a': 2}\n        self.assertEqual(self.processor.process(string_list), expected_output)\n\n    def test_process2(self):\n        string_list = []\n        expected_output = []\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_calculate3(self):\n        words_list = []\n        expected_output = {}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_process4(self):\n        string_list = [\"@#$%^&*\", \"Special_Characters\", \"12345\"]\n        expected_output = [[], ['specialcharacters'], []]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process5(self):\n        string_list = [\"Hello World! %%%\", \"This is a %%% test. %%% \", \"Hello World, this is a test. %%%\"]\n        expected_output = {'hello': 2, 'world': 2, 'this': 2, 'is': 2, 'a': 2}\n        self.assertEqual(self.processor.process(string_list), expected_output)\n\n    def test_process6(self):\n        string_list = [\"12345\", \"67890\", \"98765\"]\n        expected_output = [[], [], []]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)", "solution_code": "def process(self, string_list):\n        words_list = self.process_data(string_list)\n        word_frequency_dict = self.calculate_word_frequency(words_list)\n        return word_frequency_dict", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": [], "method_dependencies": ["process_data", "calculate_word_frequency"]}}], "test_cases": "import unittest\n\nclass NLPDataProcessorTestProcessData(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_process_data(self):\n        string_list = [\"Hello World!\", \"This is a test.\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data2(self):\n        string_list = [\"12345\", \"Special@Characters\"]\n        expected_output = [[], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data3(self):\n        string_list = []\n        expected_output = []\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data4(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process_data5(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\", \"Hello World!\", \"This is a test.\", \"12345\", \"Special@Characters\"]\n        expected_output = [['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters'], ['hello', 'world'], ['this', 'is', 'a', 'test'], [], ['specialcharacters']]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\nclass NLPDataProcessorTestCalculate(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_calculate_word_frequency(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', 'test'], ['hello', 'world', 'this', 'is', 'another', 'test'],\n                      ['hello', 'hello', 'world']]\n        expected_output = {'hello': 4, 'world': 3, 'this': 2, 'is': 2, 'test': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency2(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', 'test'], ['hello', 'world', 'this', 'is', 'another', 'test'],\n                      ['hello', 'hello', 'world'], ['world', 'world', 'world']]\n        expected_output = {'world': 6, 'hello': 4, 'this': 2, 'is': 2, 'test': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency3(self):\n        words_list = [['hello', 'world'], ['hello', 'hello', 'world'], ['world', 'world']]\n        expected_output = {'world': 4, 'hello': 3}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency4(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%']]\n        expected_output = {'%%%': 6, 'hello': 5, 'world': 4, 'is': 2, 'this': 2}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_calculate_word_frequency5(self):\n        words_list = [['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%'], ['hello', 'world'], ['this', 'is', 'a', '%%%'], ['hello', 'world', 'this', 'is', 'another', '%%%'],\n                      ['hello', 'hello', 'world'], ['%%%', 'world', 'a', '%%%'], ['%%%', 'hello', '%%%']]\n        expected_output = {'%%%': 12, 'hello': 10, 'world': 8, 'is': 4, 'this': 4}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\nclass NLPDataProcessorTestProcess(unittest.TestCase):\n\n    def setUp(self):\n        self.processor = NLPDataProcessor2()\n\n    def test_process(self):\n        string_list = [\"Hello World!\", \"This is a test.\", \"Hello World, this is a test.\"]\n        expected_output = {'hello': 2, 'world': 2, 'this': 2, 'is': 2, 'a': 2}\n        self.assertEqual(self.processor.process(string_list), expected_output)\n\n    def test_process2(self):\n        string_list = []\n        expected_output = []\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_calculate3(self):\n        words_list = []\n        expected_output = {}\n        self.assertEqual(self.processor.calculate_word_frequency(words_list), expected_output)\n\n    def test_process4(self):\n        string_list = [\"@#$%^&*\", \"Special_Characters\", \"12345\"]\n        expected_output = [[], ['specialcharacters'], []]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)\n\n    def test_process5(self):\n        string_list = [\"Hello World! %%%\", \"This is a %%% test. %%% \", \"Hello World, this is a test. %%%\"]\n        expected_output = {'hello': 2, 'world': 2, 'this': 2, 'is': 2, 'a': 2}\n        self.assertEqual(self.processor.process(string_list), expected_output)\n\n    def test_process6(self):\n        string_list = [\"12345\", \"67890\", \"98765\"]\n        expected_output = [[], [], []]\n        self.assertEqual(self.processor.process_data(string_list), expected_output)", "solutions": ["from collections import Counter\nimport re\n\nclass NLPDataProcessor2:\n\n    def process_data(self, string_list):\n        words_list = []\n        for string in string_list:\n            # Remove non-English letters and convert to lowercase\n            processed_string = re.sub(r'[^a-zA-Z\\s]', '', string.lower())\n            # Split the string into words\n            words = processed_string.split()\n            words_list.append(words)\n        return words_list\n\n    def calculate_word_frequency(self, words_list):\n        word_frequency = Counter()\n        for words in words_list:\n            word_frequency.update(words)\n        sorted_word_frequency = dict(sorted(word_frequency.items(), key=lambda x: x[1], reverse=True))\n        top_5_word_frequency = dict(list(sorted_word_frequency.items())[:5])\n        return top_5_word_frequency\n\n    def process(self, string_list):\n        words_list = self.process_data(string_list)\n        word_frequency_dict = self.calculate_word_frequency(words_list)\n        return word_frequency_dict"], "task": "class_eval", "split": "test", "transformation_type": "vanilla", "import_statement": ["from collections import Counter", "import re"], "test_classes": ["NLPDataProcessorTestProcessData", "NLPDataProcessorTestCalculate", "NLPDataProcessorTestProcess"]}
{"qid": "ClassEval_33", "orig_input": "class DiscountStrategy:\n    \"\"\"\n    This is a class that allows to use different discount strategy based on shopping credit or shopping cart in supermarket.\n    \"\"\"\n\n    def __init__(self, customer, cart, promotion=None):\n        \"\"\"\n        Initialize the DiscountStrategy with customer information, a cart of items, and an optional promotion.\n        :param customer: dict, customer information\n        :param cart: list of dicts, a cart of items with details\n        :param promotion: function, optional promotion applied to the order\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n\n        \"\"\"\n        self.customer = customer\n        self.cart = cart\n        self.promotion = promotion\n        self.total()\n\n    def total(self):\n        \"\"\"\n        Calculate the total cost of items in the cart.\n        :return: float, total cost of items\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart)\n        >>> ds.total()\n        329.0\n\n        \"\"\"\n\n\n    def due(self):\n        \"\"\"\n        Calculate the final amount to be paid after applying the discount.\n        :return: float, final amount to be paid\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> ds.due()\n        312.55\n\n        \"\"\"\n\n\n    @staticmethod\n    def FidelityPromo(order):\n        \"\"\"\n        Calculate the discount based on the fidelity points of the customer.Customers with over 1000 points can enjoy a 5% discount on the entire order.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> DiscountStrategy.FidelityPromo(order)\n        16.45\n\n        \"\"\"\n\n\n    @staticmethod\n    def BulkItemPromo(order):\n        \"\"\"\n        Calculate the discount based on bulk item quantity in the order.In the same order, if the quantity of a single item reaches 20 or more, each item will enjoy a 10% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 20, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        >>> DiscountStrategy.BulkItemPromo(order)\n        47.0\n\n        \"\"\"\n\n\n    @staticmethod\n    def LargeOrderPromo(order):\n        \"\"\"\n        Calculate the discount based on the number of different products in the order.If the quantity of different products in the order reaches 10 or more, the entire order will enjoy a 7% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        >>> DiscountStrategy.LargeOrderPromo(order)\n        0.0\n\n        \"\"\"", "input": "class DiscountStrategy:\n    \"\"\"\n    This is a class that allows to use different discount strategy based on shopping credit or shopping cart in supermarket.\n    \"\"\"\n\n    def __init__(self, customer, cart, promotion=None):\n        \"\"\"\n        Initialize the DiscountStrategy with customer information, a cart of items, and an optional promotion.\n        :param customer: dict, customer information\n        :param cart: list of dicts, a cart of items with details\n        :param promotion: function, optional promotion applied to the order\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n\n        \"\"\"\n        self.customer = customer\n        self.cart = cart\n        self.promotion = promotion\n        self.total()\n\n    def total(self):\n        \"\"\"\n        Calculate the total cost of items in the cart.\n        :return: float, total cost of items\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart)\n        >>> ds.total()\n        329.0\n\n        \"\"\"\n\n\n    def due(self):\n        \"\"\"\n        Calculate the final amount to be paid after applying the discount.\n        :return: float, final amount to be paid\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> ds.due()\n        312.55\n\n        \"\"\"\n\n\n    @staticmethod\n    def FidelityPromo(order):\n        \"\"\"\n        Calculate the discount based on the fidelity points of the customer.Customers with over 1000 points can enjoy a 5% discount on the entire order.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> DiscountStrategy.FidelityPromo(order)\n        16.45\n\n        \"\"\"\n\n\n    @staticmethod\n    def BulkItemPromo(order):\n        \"\"\"\n        Calculate the discount based on bulk item quantity in the order.In the same order, if the quantity of a single item reaches 20 or more, each item will enjoy a 10% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 20, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        >>> DiscountStrategy.BulkItemPromo(order)\n        47.0\n\n        \"\"\"\n\n\n    @staticmethod\n    def LargeOrderPromo(order):\n        \"\"\"\n        Calculate the discount based on the number of different products in the order.If the quantity of different products in the order reaches 10 or more, the entire order will enjoy a 7% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        >>> DiscountStrategy.LargeOrderPromo(order)\n        0.0\n\n        \"\"\"", "method_info": [{"method_name": "total", "method_description": "def total(self):\n        \"\"\"\n        Calculate the total cost of items in the cart.\n        :return: float, total cost of items\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart)\n        >>> ds.total()\n        329.0\n\n        \"\"\"", "test_class": "DiscountStrategyTestTotal", "test_code": "class DiscountStrategyTestTotal(unittest.TestCase):\n    def test_total_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 250.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 150.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 200.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 2050.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 1, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 70.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = []\n        order = DiscountStrategy(customer, cart)\n        expected_total = 0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)", "solution_code": "def total(self):\n        self.__total = sum(item['quantity'] * item['price'] for item in self.cart)\n        return self.__total", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": ["self.cart"], "method_dependencies": []}}, {"method_name": "due", "method_description": "def due(self):\n        \"\"\"\n        Calculate the final amount to be paid after applying the discount.\n        :return: float, final amount to be paid\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> ds = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> ds.due()\n        312.55\n\n        \"\"\"", "test_class": "DiscountStrategyTestDue", "test_code": "class DiscountStrategyTestDue(unittest.TestCase):\n    def test_due_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_due = 250.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_due = 237.5\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 20, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_due = 410.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(15)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_due = 139.5\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 900}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_due = 250.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)", "solution_code": "def due(self):\n        if self.promotion is None:\n            discount = 0\n        else:\n            discount = self.promotion(self)\n        return self.__total - discount", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": ["self.promotion"], "method_dependencies": ["total"]}}, {"method_name": "FidelityPromo", "method_description": "@staticmethod\n    def FidelityPromo(order):\n        \"\"\"\n        Calculate the discount based on the fidelity points of the customer.Customers with over 1000 points can enjoy a 5% discount on the entire order.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        >>> DiscountStrategy.FidelityPromo(order)\n        16.45\n\n        \"\"\"", "test_class": "DiscountStrategyTestFidelityPromo", "test_code": "class DiscountStrategyTestFidelityPromo(unittest.TestCase):\n    def test_fidelity_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1000}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 800}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 0}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 10000}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1800}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)", "solution_code": "@staticmethod\n    def FidelityPromo(order):\n        return order.total() * 0.05 if order.customer['fidelity'] >= 1000 else 0", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": [], "method_dependencies": ["total"]}}, {"method_name": "BulkItemPromo", "method_description": "@staticmethod\n    def BulkItemPromo(order):\n        \"\"\"\n        Calculate the discount based on bulk item quantity in the order.In the same order, if the quantity of a single item reaches 20 or more, each item will enjoy a 10% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 20, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        >>> DiscountStrategy.BulkItemPromo(order)\n        47.0\n\n        \"\"\"", "test_class": "DiscountStrategyTestBulkItemPromo", "test_code": "class DiscountStrategyTestBulkItemPromo(unittest.TestCase):\n    def test_bulk_item_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 20, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 20.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 100, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 100.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 1, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 0.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 30, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 30.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)", "solution_code": "@staticmethod\n    def BulkItemPromo(order):\n        discount = 0\n        for item in order.cart:\n            if item['quantity'] >= 20:\n                discount += item['quantity'] * item['price'] * 0.1\n        return discount", "dependencies": {"Standalone": true, "lib_dependencies": [], "field_dependencies": [], "method_dependencies": []}}, {"method_name": "LargeOrderPromo", "method_description": "@staticmethod\n    def LargeOrderPromo(order):\n        \"\"\"\n        Calculate the discount based on the number of different products in the order.If the quantity of different products in the order reaches 10 or more, the entire order will enjoy a 7% discount.\n        :param order: object, the order to apply the discount to\n        :return: float, discount amount\n        >>> customer = {'name': 'John Doe', 'fidelity': 1200}\n        >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]\n        >>> order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        >>> DiscountStrategy.LargeOrderPromo(order)\n        0.0\n\n        \"\"\"", "test_class": "DiscountStrategyTestLargeOrderPromo", "test_code": "class DiscountStrategyTestLargeOrderPromo(unittest.TestCase):\n    def test_large_order_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(10)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 7.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(5)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(100)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 70.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(1000)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 700.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(1)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 0.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)", "solution_code": "@staticmethod\n    def LargeOrderPromo(order):\n        return order.total() * 0.07 if len({item['product'] for item in order.cart}) >= 10 else 0", "dependencies": {"Standalone": false, "lib_dependencies": [], "field_dependencies": [], "method_dependencies": ["total"]}}], "test_cases": "import unittest\n\n\nclass DiscountStrategyTestTotal(unittest.TestCase):\n    def test_total_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 250.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 150.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 200.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 2050.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 1, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 70.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n    def test_total_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = []\n        order = DiscountStrategy(customer, cart)\n        expected_total = 0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n\nclass DiscountStrategyTestDue(unittest.TestCase):\n    def test_due_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_due = 250.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_due = 237.5\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 20, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_due = 410.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(15)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_due = 139.5\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n    def test_due_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 900}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_due = 250.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n\nclass DiscountStrategyTestFidelityPromo(unittest.TestCase):\n    def test_fidelity_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1000}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 800}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 0}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 10000}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_fidelity_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1800}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n\nclass DiscountStrategyTestBulkItemPromo(unittest.TestCase):\n    def test_bulk_item_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 20, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 20.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 100, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 100.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 1, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 0.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_bulk_item_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 30, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 30.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n\nclass DiscountStrategyTestLargeOrderPromo(unittest.TestCase):\n    def test_large_order_promo_1(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(10)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 7.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_2(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(5)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_3(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(100)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 70.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_4(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(1000)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 700.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n    def test_large_order_promo_5(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(1)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 0.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)\n\n\nclass DiscountStrategyTest(unittest.TestCase):\n    def test_DiscountStrategy(self):\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_total = 250.0\n        actual_total = order.total()\n        self.assertEqual(actual_total, expected_total)\n\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart)\n        expected_due = 250.0\n        actual_due = order.due()\n        self.assertEqual(actual_due, expected_due)\n\n        customer = {'name': 'John Doe', 'fidelity': 1000}\n        cart = [{'product': 'product1', 'quantity': 10, 'price': 20.0},\n                {'product': 'product2', 'quantity': 5, 'price': 10.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)\n        expected_discount = 12.5\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': 'product1', 'quantity': 20, 'price': 10.0},\n                {'product': 'product2', 'quantity': 5, 'price': 5.0}]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.BulkItemPromo)\n        expected_discount = 20.0\n        actual_discount = order.promotion(order)\n        self.assertEqual(actual_discount, expected_discount)\n\n        customer = {'name': 'John Doe', 'fidelity': 1200}\n        cart = [{'product': f'product{i}', 'quantity': 1, 'price': 10.0} for i in range(10)]\n        order = DiscountStrategy(customer, cart, DiscountStrategy.LargeOrderPromo)\n        expected_discount = 7.0\n        actual_discount = order.promotion(order)\n        self.assertAlmostEqual(actual_discount, expected_discount)", "solutions": ["class DiscountStrategy:\n    def __init__(self, customer, cart, promotion=None):\n        self.customer = customer\n        self.cart = cart\n        self.promotion = promotion\n        self.__total = self.total()\n\n    def total(self):\n        self.__total = sum(item['quantity'] * item['price'] for item in self.cart)\n        return self.__total\n\n    def due(self):\n        if self.promotion is None:\n            discount = 0\n        else:\n            discount = self.promotion(self)\n        return self.__total - discount\n\n    @staticmethod\n    def FidelityPromo(order):\n        return order.total() * 0.05 if order.customer['fidelity'] >= 1000 else 0\n\n    @staticmethod\n    def BulkItemPromo(order):\n        discount = 0\n        for item in order.cart:\n            if item['quantity'] >= 20:\n                discount += item['quantity'] * item['price'] * 0.1\n        return discount\n\n    @staticmethod\n    def LargeOrderPromo(order):\n        return order.total() * 0.07 if len({item['product'] for item in order.cart}) >= 10 else 0"], "task": "class_eval", "split": "test", "transformation_type": "vanilla", "import_statement": [], "test_classes": ["DiscountStrategyTestTotal", "DiscountStrategyTestDue", "DiscountStrategyTestFidelityPromo", "DiscountStrategyTestBulkItemPromo", "DiscountStrategyTestLargeOrderPromo", "DiscountStrategyTest"]}